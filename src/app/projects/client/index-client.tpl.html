<div class="container">

<!-- <a id="element" class="btn btn-primary btn-xs" data-toggle="popover" tabindex="0" data-trigger="focus" title="Popover title" data-content="Here's some amazing content.">Dismissible popover</a> -->
	<div class="page-header">
		<h2>Projectes de Client <small>Index</small> <span class="pull-right"><a ui-sref="project-new" class="btn btn-primary btn-xs"><i class="fa fa-plus"></i>&nbsp;Crear Projecte</a></span></h2>
	</div>
	<div class="row tabla-client">
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<table id="clientprojectstable" class="table table-responsive table-hover">
				<thead>
					<tr>
						<th class="col-xs-3">
							<a ng-click="clientprojects.sortTypeClient = 'name'; clientprojects.sortReverseClient = !clientprojects.sortReverseClient">
				            	Projecte 
				            	<span ng-show="clientprojects.sortTypeClient == 'name' && !clientprojects.sortReverseClient" class="fa fa-caret-down"></span>
				            	<span ng-show="clientprojects.sortTypeClient == 'name' && clientprojects.sortReverseClient" class="fa fa-caret-up"></span>
				            <a/>
						</th>
						<th class="col-xs-2">
							<a ng-click="clientprojects.sortTypeClient = 'status'; clientprojects.sortReverseClient = !clientprojects.sortReverseClient">
				            	Estat 
				            	<span ng-show="clientprojects.sortTypeClient == 'status' && !clientprojects.sortReverseClient" class="fa fa-caret-down"></span>
				            	<span ng-show="clientprojects.sortTypeClient == 'status' && clientprojects.sortReverseClient" class="fa fa-caret-up"></span>
				            <a/>
						</th>
						<th class="col-xs-2">
							<a ng-click="clientprojects.sortTypeClient = 'created_at'; clientprojects.sortReverseClient = !clientprojects.sortReverseClient">
				            	Sol·licitud 
				            	<span ng-show="clientprojects.sortTypeClient == 'created_at' && !clientprojects.sortReverseClient" class="fa fa-caret-down"></span>
				            	<span ng-show="clientprojects.sortTypeClient == 'created_at' && clientprojects.sortReverseClient" class="fa fa-caret-up"></span>
				            <a/>
						</th>
						<th class="col-xs-3">
							<a ng-click="clientprojects.sortTypeClient = 'service.name'; clientprojects.sortReverseClient = !clientprojects.sortReverseClient">
				            	Serveis
				            	<span ng-show="clientprojects.sortTypeClient == 'service.name' && !clientprojects.sortReverseClient" class="fa fa-caret-down"></span>
				            	<span ng-show="clientprojects.sortTypeClient == 'service.name' && clientprojects.sortReverseClient" class="fa fa-caret-up"></span>
				            <a/>
						</th>
						<th class="col-xs-2">Accions</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="text" placeholder="Filtrar Projecte" class="form-control input-sm" ng-model="searchword.name" /></td>
						<td></td>
						<td><input type="text" placeholder="Filtrar Data sol·licitud" class="form-control input-sm" ng-model="searchword.created_at" /></td>
						<td><input type="text" placeholder="Filtrar Servei" class="form-control input-sm" ng-model="searchword.service.name" /></td>
					</tr>
					<tr ng-repeat="srv in clientprojects.allClientProjects | orderBy:clientprojects.sortTypeClient:clientprojects.sortReverseClient | filter: searchword">
						<td show-services class="vert-align">{{srv.name}}</td>
						<td show-services class="vert-align"><span class="label label-status" ng-class="(srv.status === 1) ? 'label-success' : 'label-danger'">{{clientprojects.getLiteralStatus(srv.status)}}</span></td>
						<td show-services class="vert-align">{{srv.created_at | date: 'dd-MM-yyyy'}}</td>
						<td show-services class="vert-align">
							<ul class="list list-unstyled">
								<li ng-repeat="one in srv.services">{{one.service.name}}</li>
							</ul>
						</td>
						<td class="vert-align">
							<span class="pull-right">&nbsp;&nbsp;&nbsp;<a ng-click="clientprojects.deleteProject(srv._id)" class="btn btn-default btn-xs">
								<i class="fa fa-trash-o"></i></a>
								
							</span>
							<span  class="pull-right" ng-if="srv.status >= 3 || srv.status < 6">
								<button ng-show="srv.status === 3 || srv.status === 4 || srv.status === 6" class="btn btn-success btn-xs" ng-click="clientprojects.runProject(srv._id)">
									<i class="fa fa-play"></i>
									Arrencar
								</button>
								<button ng-show="srv.status === 5" class="btn btn-danger btn-xs" ng-click="clientprojects.stopProject(srv._id)">
									<i class="fa fa-stop"></i>
									Aturar
								</button>
							</span>
							
							<!-- <span class="project-actions pull-right"><a ng-click="clientprojects.goEditProject(srv._id)" class="btn btn-default btn-xs" ng-if="srv.status !== 3">
							<i class="fa fa-pencil"></i></a></span> -->
						</td>
					</tr>
				</tbody>
			</table>

			<!-- opcio table amb collapsable panels
			
			<table class="table table-responsive">
				<thead>
					<tr>
						<th>
							<span class="col-xs-2">Projecte</span>
							<span class="col-xs-2">Estat</span>
							<span class="col-xs-2">Sol·licitud</span>
							<span class="col-xs-2">Serveis</span>
							<div class="col-xs-4 pull-right">
								<input class="form-control input-sm" placeholder="Filtrar per Projecte" type="text" ng-model="searchword.name">
							</div>
						</th>
						
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="srv in clientprojects.allClientProjects | filter: searchword">
						<td>
							 <a class="list-group-item" data-toggle="collapse" data-target="#{{$index}}" data-parent="#menu">
							 
							 	<ul class="list list-inline row">
							 		<li class="col-xs-2"><strong>{{srv.name}}</strong></li>
							 		<li class="col-xs-2"><span class="label" ng-class="(srv.status === 1) ? 'label-success' : 'label-danger'">{{clientprojects.getLiteralStatus(srv.status)}}</span></li>
							 		<li class="col-xs-2">{{srv.created_at | date: 'dd-MM-yyyy'}}</li>
							 		<li class="col-xs-2"><span class="badge">{{srv.services.length}}</span></li>
							 		<li class="col-xs-4" ng-if="srv.status >= 3 || srv.status < 6">
							 			<button ng-show="srv.status === 3 || srv.status === 4 || srv.status === 6" class="btn btn-default btn-xs" ng-click="clientprojects.runProject(srv._id)">
											<i class="fa fa-play"></i>
											Arrencar
										</button>
										<button ng-show="srv.status === 5" class="btn btn-default btn-xs" ng-click="clientprojects.stopProject(srv._id)">
											<i class="fa fa-stop"></i>
											Aturar
										</button>
							 		</li>
							 	</ul>
							 </a>
								 <div id="{{$index}}" class="sublinks collapse">
									  <a class="list-group-item small pad" ng-repeat="one in srv.services">
									  	<span class="glyphicon glyphicon-chevron-right"></span>
									  	{{one.service.name}}
									  </a>
									  
								 </div>
						</td>
					</tr>
				</tbody>
			</table> -->




		</div>
	</div>
</div>
