<div ng-controller="PublishSrvController as staticform">
	<div class="staticform">
		<form name="srvTemplate">
			<div class="col-xs-11 col-xs-offset-1 col-sm-11 col-sm-offset-1">
					<div class="col-xs-8" id="servicename">
						<label for="name">{{'LABEL-NOM' | translate}} *</label>
						<input type="text" name="name" class="form-control" ng-model="staticform.srv.title" placeholder="{{ 'SRV-NAME-PLACE' | translate }}" required>
					</div>
					<div class="col-xs-4">
						<label for="type">{{ 'SERVICE-TYPE' | translate }} *</label>
						<select name="type" class="form-control" ng-options="item.description for item in staticform.allTypes" ng-model="staticform.srv.type" required>
							<option value="" disabled>{{ 'SRV-SELECT-DEFAULT' | translate }}</option>
						</select>
					</div>
			</div>


			<div class="col-xs-11 col-xs-10-offset-1 col-sm-11 col-sm-offset-1 confpath1">
				<label for="">{{'LABEL-DESC' | translate}} *</label>
				<textarea rows="2" type="text" class="form-control" ng-model="staticform.srv.description" placeholder="{{ 'SRV-DESC-PLACE' | translate }}" required></textarea>
			</div>

			<div class="col-xs-11 col-xs-10-offset-1 col-sm-11 col-sm-offset-1 confpath1">
				<label for="">{{'LABEL-SUMARI' | translate}} *</label>
				<input type="text" class="form-control" ng-model="staticform.srv.summary" placeholder="{{'SRV-SUM-PLACE' | translate}}" required>
			</div>
			<br/>
			<div class="col-xs-11 col-xs-offset-1 col-sm-11 col-sm-offset-1">
				<div class="oneTemplate clearfix">
					<h4 class="templateTitle">{{ 'CUSTOMER-PARAMS' | translate }}</h4>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock">
					<br/>
					<div class="row">
						<div class="col-xs-12">
							<label for="filepath">{{ 'CONF' | translate }} *</label>
							<input type="text" ng-model="staticform.srv.path" placeholder="{{ 'CONF-PATH' | translate }}" class="form-control" required>
						</div>
					</div>
						<ul class="list list-inline publish">
							<li class="col-xs-12 col-sm-12 col-md-3">
							<label for="name">{{ 'LABEL-NOM' | translate }} *</label>
								<input type="text" name="name" ng-model="staticform.srv.fields.field1.name" placeholder="{{ 'FIELD-NAME' | translate }}" class="form-control" required/>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-2">
							<label for="type">{{ 'TYPE-TITLE' | translate }} *</label>
								<select class="form-control" ng-options="item.name for item in staticform.types" ng-model="staticform.srv.fields.field1.type" required>
									<option value="" disabled>{{ 'TYPE-PLACE' | translate }}</option>
								</select>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-1">
								<label for="required">Oblig.</label><br/>
								<input type="checkbox" class="form-control centered check-required" name="required" ng-model="staticform.srv.fields.field1.required">
							</li>
							<li class="col-xs-12 col-sm-12 col-md-6">
								<label for="description">{{ 'LABEL-DESC' | translate }} *</label>
								<input type="text" name="description" class="form-control" ng-model="staticform.srv.fields.field1.desc" placeholder="{{ 'FIELD-DESC' | translate }}"  required/>
							</li>
						</ul>
					</div>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock">
						<ul class="list list-inline publish">
							<li class="col-xs-12 col-sm-12 col-md-3">
								<input type="text" name="name" ng-model="staticform.srv.fields.field2.name" placeholder="{{ 'FIELD-NAME' | translate }}" class="form-control"/>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-2">

								<select class="form-control" ng-options="item.name for item in staticform.types" ng-model="staticform.srv.fields.field2.type">
									<option value="" disabled>{{ 'TYPE-PLACE' | translate }}</option>
								</select>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-1">

								<input type="checkbox" class="form-control centered check-required" name="required" ng-model="staticform.srv.fields.field2.required">
							</li>
							<li class="col-xs-12 col-sm-12 col-md-6">

								<input type="text" name="description" class="form-control" ng-model="staticform.srv.fields.field2.desc" placeholder="{{ 'FIELD-DESC' | translate }}" />
							</li>
						</ul>
					</div>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock clearfix">
						<ul class="list list-inline publish">
							<li class="col-xs-12 col-sm-12 col-md-3">

								<input type="text" name="name" ng-model="staticform.srv.fields.field3.name" placeholder="{{ 'FIELD-NAME' | translate }}" class="form-control"/>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-2">

								<select class="form-control" ng-options="item.name for item in staticform.types" ng-model="staticform.srv.fields.field3.type">
									<option value="" disabled>{{ 'TYPE-PLACE' | translate }}</option>
								</select>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-1">

								<input type="checkbox" class="form-control centered check-required" name="required" ng-model="staticform.srv.fields.field3.required">
							</li>
							<li class="col-xs-12 col-sm-12 col-md-6">

								<input type="text" name="description" class="form-control" ng-model="staticform.srv.fields.field3.desc" placeholder="{{ 'FIELD-DESC' | translate }}" />
							</li>
						</ul>
					</div>
				</div>
				<div class="oneTemplate clearfix">
					<h4 class="templateTitle">{{ 'IAAS-SRV' | translate }} *</h4>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock">
						<select class="form-control" name="" ng-options="iaas as iaas.name for iaas in staticform.iaasProvider" ng-model="staticform.srv.iaas" ng-change="staticform.setIaasProvider(staticform.srv.iaas)">
							<option value="" disabled>{{ 'IAAS-SRV-PLACE' | translate }}</option>
						</select>
					</div>




					<div class="top2" ng-if="staticform.iaasSelected">
						<br/><br/><br/>
						<h4 class="templateTitle">Flavor *<br/>
							<small>{{ 'SELECT-FLAVOR' | translate }}</small>
						</h4>
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock">
							<table class="table table-striped table-hover flavor-table">
								<thead>
									<tr>
										<th>{{ 'LABEL-NOM' | translate }}</th>
										<th>{{ 'MEMORY-LABEL' | translate }}</th>
										<th>{{ 'DISK-LABEL' | translate }}</th>
										<th>{{ 'CPUS-LABEL' | translate }}</th>
										<th style="width:20px;">{{ 'ACTIVATED-LABEL' | translate }}</th>
									</tr>
								</thead>
								<tbody>
									<tr id="{{$index}}"
											ng-repeat="flavor in staticform.flavors"
											ng-model="staticform.srv.flavor"
											ng-class="(flavor.name == staticform.selectedRowId) ? 'success': ''"
											ng-click="staticform.srv.flavor = flavor;staticform.selectedRow(flavor.name)">
										<td>{{flavor.name}}</td>
										<td>{{flavor.ram}}</td>
										<td>{{flavor.disk}}</td>
										<td>{{flavor.vcpus}}</td>
										<td>
											<input
												style="width:20px;"
												type="checkbox"
												class="form-control selected-flavor"
												name="selectedFlavor"
												ng-checked="flavor.name == staticform.selectedRowId" />
										</td>
									</tr>
								</tbody>
							</table>

							<div ng-show="staticform.srv.flavor">
								<h5><strong>{{ 'SELECTED-FLAVOR' | translate }}</strong></h5>

								<table class="table table-striped flavor-table" >
									<tbody>
										<tr class="info">
											<td>{{staticform.srv.flavor.name}}</td>
											<td>{{staticform.srv.flavor.ram}}</td>
											<td>{{staticform.srv.flavor.disk}}</td>
											<td>{{staticform.srv.flavor.vcpus}}</td>
										</tr>
									</tbody>
								</table>
							</div>


						</div>
					</div>
				</div>
				<div class="oneTemplate clearfix">
					<h4 class="templateTitle">{{ 'RUNTIME-PARAMS' | translate }} *</h4>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock">
						<ul class="list list-inline publish">
							<li class="col-xs-12 col-sm-12 col-md-3">
							<label for="name">{{ 'LABEL-NOM' | translate }} *</label>
								<input type="text" name="name" ng-model="staticform.srv.rtime.name" placeholder="{{ 'SRV-NAME-PLACE' | translate }}" class="form-control" required/>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-2">
							<label for="type">{{ 'TYPE-TITLE' | translate }} *</label>
								<select class="form-control" ng-options="item.name for item in staticform.types" ng-model="staticform.srv.rtime.type" required>
									<option value="" disabled>{{ 'TYPE-PLACE' | translate }}</option>
								</select>
							</li>
							<li class="col-xs-12 col-sm-12 col-md-1">
								<label for="required">Oblig.</label><br/>
								<input type="checkbox" class="form-control centered check-required" name="required" ng-model="staticform.srv.rtime.required">
							</li>
							<li class="col-xs-12 col-sm-12 col-md-6">
								<label for="description">{{ 'LABEL-DESC' | translate }} *</label>
								<input type="text" name="description" class="form-control" ng-model="staticform.srv.rtime.desc" placeholder="{{ 'FIELD-DESC' | translate }}"  required/>
							</li>
						</ul>
					</div>
				</div>
				<div class="oneTemplate clearfix">
					<h4 class="templateTitle">{{ 'DISC-IMAGE' | translate }} *</h4>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 fieldblock">
							<div class="col-xs-12 col-sm-12 col-md-8 col-lg-9">
								<chunkdirective></chunkdirective>
							</div>
							<div class="col-xs-12 col-sm-12 col-md-4 col-lg-3">
								<select name="" class="form-control" ng-model="staticform.srv.diskImageType" ng-options="item.name for item in staticform.discImageFormat" required>
									<option value="" disabled>{{ 'DISC-IMAGE-TYPE' | translate }}</option>
								</select>
								<br/>
							</div>
	    					<!-- <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
	    						<button id="upload_button" class="btn btn-default btn-md" ng-click="staticform.uploadFile()"><i class="fa fa-upload"></i><span class="icon-left">Pujar imatge</span></button>
	    						<br/>
	    					</div> -->
	    					<div class="col-xs-12">
	    						<div id="progressbar"></div>
	    					</div>
					</div>
				</div>
				<div class="row botones">
					<div class="col-xs-3 col-xs-offset-3">
						<!-- <button ng-disabled="srvTemplate.$invalid || !staticform.isLoadedImage" ng-click="staticform.launchTemplate(staticform.srv)" class="btn btn-success btn-block">Publicar Servei</button> -->
						<button ng-disabled="srvTemplate.$invalid" ng-click="staticform.launchTemplate(staticform.srv)" class="btn btn-success btn-block">{{ 'PUBL-SRV-TITLE' | translate }}</button>
					</div>
					<div class="col-xs-3">
						<a ui-sref="provprojects" class="btn btn-danger btn-block">&nbsp;&nbsp;Cancelar</a>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
